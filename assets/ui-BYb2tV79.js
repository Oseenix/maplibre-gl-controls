const r={color:{text:"rgba(255, 255, 255, 1.0)",border:"rgba(0, 36, 71, 0.4)",borderLight:"#dee2e6",background:"rgba(0, 36, 71, 0.6)",hover:"rgba(0, 36, 71, 0.8)",activeBackground:"rgba(0, 36, 71, 0.98)"},radius:{sm:"3px",md:"4px",lg:"6px"},shadow:{sm:"0 1px 2px rgba(0, 36, 71, 0.05)",md:"0 2px 4px rgba(0, 36, 71, 0.1)"},font:{family:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif",size:"11px"},transition:"all 0.2s ease"},h=new Set;function C(t){t.style.setProperty("--rp-mctl-text",r.color.text),t.style.setProperty("--rp-mctl-background",r.color.background),t.style.setProperty("--rp-mctl-hover",r.color.hover),t.style.setProperty("--rp-mctl-border",r.color.border),t.style.setProperty("--rp-mctl-borderLight",r.color.borderLight),t.style.setProperty("--rp-mctl-radius-sm",r.radius.sm),t.style.setProperty("--rp-mctl-radius-md",r.radius.md),t.style.setProperty("--rp-mctl-radius-lg",r.radius.lg),t.style.setProperty("--rp-mctl-shadow-sm",r.shadow.sm),t.style.setProperty("--rp-mctl-shadow-md",r.shadow.md),t.style.setProperty("--rp-mctl-font-family",r.font.family),t.style.setProperty("--rp-mctl-font-size",r.font.size)}function E(t){h.add(t),C(t)}function L(t){h.delete(t)}const M={backgroundColor:"transparent",padding:"5px",border:"transparent",boxShadow:"none",borderRadius:r.radius.md,display:"flex",flexDirection:"column",gap:"4px",fontFamily:r.font.family,fontSize:r.font.size,color:r.color.text};function w(t,a={}){Object.assign(t.style,M),t.classList.add("maplibregl-ctrl","maplibregl-ctrl-group"),a.classNames&&a.classNames.forEach(e=>t.classList.add(e))}const P={display:"flex",alignItems:"center",gap:"4px",padding:"4px 6px",border:"none",cursor:"pointer",borderRadius:r.radius.md,width:"fit-content",color:r.color.text,backgroundColor:r.color.background,fontSize:r.font.size,whiteSpace:"nowrap"},p={iconWidth:20,btnPaddingX:6,btnPaddingY:4,btnGap:4,smallScreenThreshold:768,minFontSize:10,maxFontSize:16,scalingFactor:.5},f=new Map;function k(t,a){f.has(t)||f.set(t,new Map);const e=f.get(t);a.forEach((n,g)=>{e==null||e.set(g,n)})}function B(t,a){const e=f.get(t);e&&(Object.entries(a).forEach(([n])=>{e.delete(n)}),e.size===0&&f.delete(t))}function R(t){const a=document.createElement("button");if(Object.assign(a.style,P),t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor),t.className&&(a.className=t.className),t.title&&(a.title=t.title),t.onClick&&(a.onclick=t.onClick),t.icon)if(typeof t.icon=="string"){const n=document.createElement("div");n.innerHTML=t.icon,a.appendChild(n)}else a.appendChild(t.icon);const e=document.createElement("span");return e.textContent=t.label,e.style.fontSize=r.font.size,e.style.color="inherit",a.appendChild(e),a}function F(t,a,e=20){const n=document.createElement("img");return n.src=`data:image/svg+xml,${encodeURIComponent(t)}`,n.alt=a,n.style.width=`${e}px`,n.style.height=`${e}px`,n.style.color="white",n}function v(t){return t.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function z(t,a,e=p.maxFontSize,n=p.minFontSize){const{iconWidth:g,btnPaddingX:i,btnGap:c,scalingFactor:m}=p,s=t-g-i*2-c,l=a.replace(/<[^>]+>/g,"").length;if(l===0)return n;let o=Math.floor(s/(l*m));return o=Math.min(e,Math.max(n,o)),o}function N(t,a){const e=f.get(t);if(!e||e.size===0)return;const n=Array.from(e.values()),{smallScreenThreshold:g}=p,i=a<g;n.forEach(s=>{const l=s.querySelector("span");l&&(l.style.display=i?"none":"inline"),s.style.width="fit-content"});const c=Math.max(...n.map(s=>s.offsetWidth)),m=i?"34px":`${c}px`;if(n.forEach(s=>{s.style.width=m}),!i){const s=n.map(o=>{const d=o.querySelector("span");return!d||!d.textContent?null:[d,z(c,d.textContent)]}).filter(o=>!!o),l=Math.max(p.minFontSize,Math.min(...s.map(([,o])=>o)));s.forEach(([o])=>{o.style.fontSize=`${l}px`})}}function T(t,a,e){const n=t.offsetWidth,g=t.offsetHeight;let i=10,c=10,m=Math.max(0,parseFloat(getComputedStyle(t).getPropertyValue("env(safe-area-inset-left)")||"0")),s=Math.max(0,parseFloat(getComputedStyle(t).getPropertyValue("env(safe-area-inset-right)")||"0")),l=m,o=s;n>=480&&(i=15,c=15,l=Math.max(15,m),o=Math.max(15,s)),g>=992&&(i=40,c=40),n>=992&&(l=Math.max(40,m),o=Math.max(40,s)),a!=null&&a.endsWith("left")?(l=l,o=s):(l=m,o=o);const d=e==null?void 0:e.margin,u=e==null?void 0:e.marginTop,x=e==null?void 0:e.marginBottom,b=e==null?void 0:e.marginLeft,y=e==null?void 0:e.marginRight;return{marginTop:d||u?null:i,marginBottom:d||x?null:c,marginLeft:d||b?null:l,marginRight:d||y?null:o}}function U(t,a,e,n){const{marginTop:g,marginBottom:i,marginLeft:c,marginRight:m}=T(a,e,n);g!==null&&(t.style.marginTop=`${g}px`),i!==null&&(t.style.marginBottom=`${i}px`),c!==null&&(t.style.marginLeft=`${c}px`),m!==null&&(t.style.marginRight=`${m}px`)}export{r as T,w as a,U as b,N as c,R as d,F as e,E as f,L as g,v as h,k as r,B as u};
