{"version":3,"file":"index.js","sources":["../src/icons.ts","../src/index.ts"],"sourcesContent":["// https://materialdesignicons.com/\nexport const pauseSvg =\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>pause</title><path d=\"M14,19H18V5H14M6,19H10V5H6V19Z\" /></svg>';\nexport const playSvg =\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>play</title><path d=\"M8,5.14V19.14L19,12.14L8,5.14Z\" /></svg>';\nexport const reloadSvg =\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>reload</title><path d=\"M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z\" /></svg>';\nexport const skipBackwardSvg =\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>skip-backward</title><path d=\"M20,5V19L13,12M6,5V19H4V5M13,5V19L6,12\" /></svg>';\nexport const skipForwardSvg =\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><title>skip-forward</title><path d=\"M4,5V19L11,12M18,5V19H20V5M11,5V19L18,12\" /></svg>';\n","import type {\n\tIControl,\n\tMap,\n\tLayerSpecification,\n\tControlPosition,\n} from 'maplibre-gl';\n\nimport {\n\tplaySvg,\n\tpauseSvg,\n\treloadSvg,\n\tskipBackwardSvg,\n\tskipForwardSvg,\n} from './icons';\n\nconst ACTIVE_BUTTON_COLOR = 'rgb(204, 204, 204)';\n\ntype ContainerOptions = {\n\tlength: number;\n\tinterval: number;\n\tonSliderValueChange: () => void;\n};\n\nconst makeImg = (svg: string): HTMLImageElement => {\n\tconst img = document.createElement('img');\n\timg.src = `data:image/svg+xml,${encodeURIComponent(svg)}`;\n\timg.style.width = '24px';\n\timg.style.height = '24px';\n\treturn img;\n};\n\nlet timerId: number | undefined;\n\nconst makeContainer = ({\n\tlength,\n\tinterval,\n\tonSliderValueChange,\n}: ContainerOptions) => {\n\t// outest div\n\tconst container = document.createElement('div');\n\tcontainer.classList.add('maplibregl-ctrl');\n\tcontainer.classList.add('maplibregl-ctrl-group');\n\tcontainer.style.width = '240px';\n\tcontainer.style.height = '84px';\n\tcontainer.style.backgroundColor = '#fff';\n\tcontainer.style.textAlign = 'center';\n\n\tconst titleDiv = document.createElement('div');\n\ttitleDiv.innerHTML = '<br />';\n\ttitleDiv.style.marginTop = '4px';\n\tcontainer.appendChild(titleDiv);\n\n\t// temporal slider\n\tconst slider = document.createElement('input');\n\tslider.type = 'range';\n\tslider.value = '0';\n\tslider.min = '0';\n\tslider.max = String(length - 1);\n\tslider.addEventListener('input', () => {\n\t\tonSliderValueChange();\n\t});\n\tslider.style.width = '80%';\n\tslider.style.margin = '4px 0';\n\tcontainer.appendChild(slider);\n\n\t// buttons div\n\t// loop, prev, pause, play, next\n\tconst buttonsDiv = document.createElement('div');\n\tbuttonsDiv.style.display = 'flex';\n\tbuttonsDiv.style.justifyContent = 'center';\n\tbuttonsDiv.style.margin = '4px 0 0 0';\n\n\t// loop button\n\tconst setLoopEnabled = (enabled: boolean) => {\n\t\tloopButton.style.backgroundColor = enabled ? ACTIVE_BUTTON_COLOR : '';\n\t};\n\tconst isLoopEnabled = () =>\n\t\tloopButton.style.backgroundColor === ACTIVE_BUTTON_COLOR;\n\tconst loopButton = document.createElement('button');\n\tloopButton.appendChild(makeImg(reloadSvg));\n\tloopButton.style.border = '0';\n\tloopButton.style.borderRadius = '0';\n\tloopButton.style.marginRight = '16px';\n\tloopButton.style.height = '24px';\n\tloopButton.style.borderRadius = '4px';\n\tloopButton.onclick = () => setLoopEnabled(!isLoopEnabled());\n\tbuttonsDiv.appendChild(loopButton);\n\n\tconst decrement = () => {\n\t\tslider.value = String(Math.max(0, Number(slider.value) - 1));\n\t\tonSliderValueChange();\n\t\treturn Number(slider.min) < Number(slider.value);\n\t};\n\tconst increment = () => {\n\t\tif (\n\t\t\tloopButton.style.backgroundColor !== '' &&\n\t\t\tNumber(slider.value) == Number(slider.max)\n\t\t) {\n\t\t\twhile (decrement()) {}\n\t\t} else {\n\t\t\tslider.value = String(\n\t\t\t\tMath.min(Number(slider.max), Number(slider.value) + 1),\n\t\t\t);\n\t\t}\n\t\tonSliderValueChange();\n\t\treturn Number(slider.value) < Number(slider.max);\n\t};\n\n\t// prev button\n\tconst prevButton = document.createElement('button');\n\tprevButton.appendChild(makeImg(skipBackwardSvg));\n\tprevButton.onclick = decrement;\n\tprevButton.style.border = '0';\n\tprevButton.style.height = '24px';\n\tprevButton.style.borderRadius = '4px';\n\n\t// pause button\n\tconst pause = () => {\n\t\tif (timerId === undefined) return;\n\t\tclearInterval(timerId);\n\t\ttimerId = undefined;\n\t\tpauseButton.onclick = null;\n\t\tplayButton.style.backgroundColor = '';\n\t};\n\tconst pauseButton = document.createElement('button');\n\tpauseButton.appendChild(makeImg(pauseSvg));\n\tpauseButton.style.border = '0';\n\tpauseButton.style.height = '24px';\n\tpauseButton.style.borderRadius = '4px';\n\tpauseButton.onclick = pause;\n\n\t// play button\n\tconst isPlaying = () =>\n\t\tplayButton.style.backgroundColor === ACTIVE_BUTTON_COLOR;\n\tconst play = () => {\n\t\tif (isPlaying()) return;\n\t\tplayButton.style.backgroundColor = ACTIVE_BUTTON_COLOR;\n\t\ttimerId = setInterval(() => {\n\t\t\tincrement();\n\t\t}, interval);\n\t};\n\n\tconst playButton = document.createElement('button');\n\tplayButton.appendChild(makeImg(playSvg));\n\tplayButton.style.border = '0';\n\tplayButton.style.height = '24px';\n\tplayButton.style.borderRadius = '4px';\n\tplayButton.onclick = play;\n\n\t// next button\n\tconst nextButton = document.createElement('button');\n\tnextButton.appendChild(makeImg(skipForwardSvg));\n\tnextButton.style.border = '0';\n\tnextButton.style.height = '24px';\n\tnextButton.style.borderRadius = '4px';\n\tnextButton.onclick = increment;\n\n\tbuttonsDiv.appendChild(prevButton);\n\tbuttonsDiv.appendChild(pauseButton);\n\tbuttonsDiv.appendChild(playButton);\n\tbuttonsDiv.appendChild(nextButton);\n\n\tcontainer.appendChild(buttonsDiv);\n\n\treturn {\n\t\tcontainer,\n\t\ttitleDiv,\n\t\tslider,\n\t\tincrement,\n\t\tdecrement,\n\t\tisPlaying,\n\t\tplay,\n\t\tpause,\n\t\tisLoopEnabled,\n\t\tsetLoopEnabled,\n\t};\n};\n\ntype TemporalFrame = {\n\ttitle: string;\n\tlayers: LayerSpecification[];\n};\n\ntype Options = {\n\tposition?: ControlPosition;\n\tinterval?: number;\n\tperformance?: boolean;\n};\n\nexport default class TemporalControl implements IControl {\n\tprivate map: Map | undefined;\n\tprivate options: Options;\n\n\tprivate container: HTMLDivElement;\n\tprivate containerTitle!: HTMLDivElement;\n\tprivate temporalSlider!: HTMLInputElement;\n\tprivate temporalFrames: TemporalFrame[];\n\n\tnext: () => boolean;\n\tprev: () => boolean;\n\tplay: () => void;\n\tpause: () => void;\n\tisPlaying: () => boolean;\n\tisLoopEnabled: () => boolean;\n\tsetLoopEnabled: (enabled: boolean) => void;\n\tgoto: (index: number) => void;\n\n\tconstructor(temporalFrames: TemporalFrame[], options: Options = {}) {\n\t\tthis.temporalFrames = temporalFrames;\n\t\tthis.options = options;\n\n\t\tconst containerOptions: ContainerOptions = {\n\t\t\tlength: this.temporalFrames.length,\n\t\t\tinterval: this.options.interval || 500,\n\t\t\tonSliderValueChange: () => this.refresh(),\n\t\t};\n\n\t\tconst {\n\t\t\tcontainer,\n\t\t\ttitleDiv,\n\t\t\tslider,\n\t\t\tincrement,\n\t\t\tdecrement,\n\t\t\tplay,\n\t\t\tpause,\n\t\t\tisPlaying,\n\t\t\tisLoopEnabled,\n\t\t\tsetLoopEnabled,\n\t\t} = makeContainer(containerOptions);\n\n\t\tthis.container = container;\n\t\tthis.containerTitle = titleDiv;\n\t\tthis.temporalSlider = slider;\n\t\tthis.next = increment;\n\t\tthis.prev = decrement;\n\t\tthis.play = play;\n\t\tthis.pause = pause;\n\t\tthis.isPlaying = isPlaying;\n\t\tthis.isLoopEnabled = isLoopEnabled;\n\t\tthis.setLoopEnabled = setLoopEnabled;\n\t\tthis.goto = (idx: number) => {\n\t\t\tslider.value = String(\n\t\t\t\tMath.min(this.temporalFrames.length - 1, Math.max(0, idx)),\n\t\t\t);\n\t\t\tthis.refresh();\n\t\t};\n\t}\n\n\tonAdd(map: Map) {\n\t\tthis.map = map;\n\t\tmap.getContainer().appendChild(this.container);\n\n\t\tthis.map.once('styledata', () => {\n\t\t\tthis.refresh();\n\t\t});\n\n\t\treturn this.container;\n\t}\n\n\tonRemove() {\n\t\tthis.container.parentNode?.removeChild(this.container);\n\t\tthis.map = undefined;\n\t}\n\n\tgetDefaultPosition(): ControlPosition {\n\t\treturn 'bottom-left';\n\t}\n\n\trefresh() {\n\t\tconst sliderValue = Number(this.temporalSlider.value);\n\t\tthis.containerTitle.innerHTML = this.temporalFrames[sliderValue].title;\n\t\tconst visibleLayerIds = this.temporalFrames[sliderValue].layers.map(\n\t\t\t(layer) => layer.id,\n\t\t);\n\t\tthis.temporalFrames.forEach((temporalFrame) => {\n\t\t\ttemporalFrame.layers.forEach((layer) =>\n\t\t\t\tthis.setVisible(layer, visibleLayerIds.includes(layer.id)),\n\t\t\t);\n\t\t});\n\t}\n\n\tprivate setVisible(layer: LayerSpecification, isVisible = true) {\n\t\tif (\n\t\t\tlayer.type === 'raster' ||\n\t\t\tlayer.type === 'fill' ||\n\t\t\tlayer.type === 'circle' ||\n\t\t\tlayer.type === 'line'\n\t\t) {\n\t\t\tif (layer.type === 'raster') {\n\t\t\t\t// when raster, set opacity as visibility for background loading\n\t\t\t\tthis.map?.setPaintProperty(\n\t\t\t\t\tlayer.id,\n\t\t\t\t\t`${layer.type}-opacity-transition`,\n\t\t\t\t\t{\n\t\t\t\t\t\t// set disable fade-in transition\n\t\t\t\t\t\tduration: 0,\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}\n\t\t\tlet opacity;\n\t\t\tif (isVisible) {\n\t\t\t\t// @ts-ignore\n\t\t\t\topacity = layer.paint?.[`${layer.type}-opacity`] || 1;\n\t\t\t} else {\n\t\t\t\topacity = this.options.performance ? 0.000000000000000000001 : 0;\n\t\t\t}\n\n\t\t\tthis.map?.setPaintProperty(layer.id, `${layer.type}-opacity`, opacity);\n\t\t} else {\n\t\t\tthis.map?.setLayoutProperty(\n\t\t\t\tlayer.id,\n\t\t\t\t'visibility',\n\t\t\t\tisVisible ? 'visible' : 'none',\n\t\t\t);\n\t\t}\n\t}\n}\n"],"names":["pauseSvg","playSvg","reloadSvg","skipBackwardSvg","skipForwardSvg","ACTIVE_BUTTON_COLOR","makeImg","svg","img","timerId","makeContainer","length","interval","onSliderValueChange","container","titleDiv","slider","buttonsDiv","setLoopEnabled","enabled","loopButton","isLoopEnabled","decrement","increment","prevButton","pause","pauseButton","playButton","isPlaying","play","nextButton","TemporalControl","temporalFrames","options","__publicField","containerOptions","idx","map","_a","sliderValue","visibleLayerIds","layer","temporalFrame","isVisible","_b","_c","_d","opacity"],"mappings":"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"}